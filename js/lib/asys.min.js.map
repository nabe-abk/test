{"version":3,"names":["String","prototype","chop","this","slice","tr","_s1","_s2","expand","str","undefined","replace","ma","$1","$2","s","charCodeAt","e","x","i","c","fromCharCode","s1","s2","length","split","map","indexOf","join","$","secure","sel","match","$obj","document","find","substr","console","error","fn","showDelay","args","Array","from","arguments","unshift","$$","DefaultShowSpeed","show","apply","hideDelay","hide","toggleDelay","toggle","findx","filter","add","rootfind","parents","last","existsData","name","data","parseFormHash","cancel","_parseForm","parseFormFD","fdmode","FormData","$cancel","each","idx","dom","disabled","type","checked","tagName","append","val","files","anySerialize","serialize","anySerializeArray","serializeArray","onSequence","_event","_priority","_func","self","list","on","func","push","priority","sort","a","b","triggerWithOE","oe","jQuery","Event","originalEvent","arg","trigger","dndEmulation","opt","make_mouse_event","evt","touch","altKey","metaKey","ctrlKey","shiftKey","clientX","clientY","screenX","screenY","pageX","pageY","which","get_par_elements","ary","parentNode","prev","flag","timer","orig_touch","addEventListener","target","touches","setTimeout","TouchDnDTime","passive","clearTimeout","changedTouches","elementFromPoint","enter","cancelable","preventDefault","leave","pop","e_leave","e_out","e_enter","e_over","regist_dnd_emulation","event","special","mydbltap","setup","mouse","DoubleTapTime","PrefixStorage","constructor","path","ls","localStorage","prefix","set","key","get","getInt","parseInt","isNaN","defined","remove","removeItem","clear","pf","len","k","adiaryDialog","adiaryDialogOpen","adiaryDialogClose","window","$dialog","addClass","attr","min_w","minWidth","min_h","minHeight","width","css","maxWidth","maxHeight","dialogClass","adiaryUIData","$title","$span","html","title","noExit","$close","exit","modal","click","closest","focus","$header","$restore","parent","display","buttons","$footer","$btnset","btns","$btns","$btn","text","autoOpen","showModal","$win","hf","outerHeight","height","scrollLeft","outerWidth","y","scrollTop","left","top","adiaryDraggable","handle","open","beforeClose","call","close","detach","adiaryShowOverlay","$overlay","adiaryProgressbar","value","init","change","complete","$value","old","adiaryAccordion","$objs","children","$div","next","sx","sy","move","position","$tar","hasClass","$o","parentsUntil","p","offset","removeEventListener","SameSite","PopupDelayTime","PopupOffsetX","PopupOffsetY","$head","$body","msg","_default","msgs","toUpperCase","set_msg","obj","dialog","callback","Promise","resolve","reject","ok","btn","prop","cancelBtn","keyfunc","class","$bp","siblings","off","dialog_base","marg","Object","w","m1","show_dialog","show_error","confirm","form_dialog","ele","$form","isArray","$ta","rows","$item","before","iclass","after","send_ajax","success","error_dialog_callback","ajax_error","h","tag_esc","toString","errs","o","_order","keys","_debug","ajax","url","myself","method","param","processData","contentType","dataType","ret","popup","delay","$popup","popup_hide","popup_show","is","SP","tag_esc_br","location","href","file","performance","getEntriesByType","persisted","reset","$pars","first","js_combo_dummy","dummy","$opt","async","$select","_val","element","set_value_on_select","$o1","cnt","$x","$tbody","td_nth","reverse","isNum","lines","i2","$tr","$td","num","Number","empty","initialized","dom_init","warn","$R","count","submit","removeClass","gen","sb","submitter","URLSearchParams","start_func","comp_func","submit_func","checker","id","Storage","counter","diff","prepend","tar","$target","storage","css_id","$css","$accordion","$sel","$multi","clone","removeAttr","insertAfter","$opts","__change","$add","$_obj","currentTarget","lclass","cdialog","val2opt","$label","$inp","inc","load_script","$s","createElement","appendChild","tag_esc_amp","tag_unesc","tag_unesc_amp","set_cookie","cookie","encodeURIComponent","get_cookie","v","decodeURIComponent","parse_json_html","json","JSON","parse","format_size","Math","round","toLocaleString","toPrecision","int","float","parseFloat","$vars","vars","$msgs","globalThis","$ary","scr","innerHTML"],"sources":["00_start.js","10_global-ext.js","11_jquery-ext.js","20_PrefixStorage.js","21_adiary-ui.js","30_init.js","40_dialog.js","41_ajax.js","42_popup.js","50_dom.js","60_dom-special.js","70_subroutines.js","90_run_init.js","99_export_default.js"],"sourcesContent":["/*!\n * asys.js (C)nabe@abk\n * https://github.com/nabe-abk/asys.js\n *\n * This module need jQuery.\n */\n'use strict';\n","//##############################################################################\n//extend global\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// String chop\n////////////////////////////////////////////////////////////////////////////////\nString.prototype.chop = function() {\n\treturn this.slice(0,-1);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// String tr\n////////////////////////////////////////////////////////////////////////////////\nString.prototype.tr = function(_s1, _s2) {\n\tfunction expand(str) {\n\t\tif (str == undefined) return '';\n\t\treturn str.replace(/(.)\\-(.)/g, function(ma,$1,$2){\n\t\t\tconst s = $1.charCodeAt(0);\n\t\t\tconst e = $2.charCodeAt(0);\n\t\t\tlet x='';\n\t\t\tfor(let i=s,c=0; i<=e && c<5000; i++,c++) {\n\t\t\t\tx += String.fromCharCode(i);\n\t\t\t}\n\t\t\treturn x;\n\t\t});\n\t}\n\tconst s1 = expand(_s1);\n\tconst s2 = expand(_s2);\n\tif (s1.length != s2.length) {\n\t\tthrow('String.tr() not match pattern length');\n\t}\n\n\treturn this.split('').map(function(c) {\n\t\tconst i = s1.indexOf(c);\n\t\tif (i<0) return c;\n\t\treturn s2[i];\n\t}).join('');\n}\n\n","//##############################################################################\n//extend jQuery\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// secure constructor\n////////////////////////////////////////////////////////////////////////////////\n$.secure = function(sel) {\n\tif (sel.match(/^#[^\\s,\"]+$/)) {\n\t\tconst $obj = $(document).find('[id=\"' + sel.substr(1) + '\"]');\n\t\tif ($obj.length<2) return $obj;\n\n\t\tconsole.error('$.secure() error. \"' + sel + '\" is duplicate.');\n\t\treturn $([]);\n\t}\n\treturn $(document).find(sel);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// show, hide with delay\n////////////////////////////////////////////////////////////////////////////////\n$.fn.showDelay = function(){\n\tlet args = Array.from(arguments)\n\targs.unshift($$.DefaultShowSpeed);\n\treturn $.fn.show.apply(this, args);\n}\n$.fn.hideDelay = function(){\n\tlet args = Array.from(arguments);\n\targs.unshift($$.DefaultShowSpeed);\n\treturn $.fn.hide.apply(this, args);\n}\n$.fn.toggleDelay = function(){\n\tlet args = Array.from(arguments);\n\targs.unshift($$.DefaultShowSpeed);\n\treturn $.fn.toggle.apply(this, args);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// find dom element including itself\n////////////////////////////////////////////////////////////////////////////////\n$.fn.findx = function() {\n\treturn $.fn.filter.apply(this, arguments).add( $.fn.find.apply(this, arguments) );\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// extra find function\n////////////////////////////////////////////////////////////////////////////////\n$.fn.rootfind = function(sel) {\n\treturn this.parents().last().find(sel);\n}\n$.fn.existsData = function(name) {\n\tconst v = this.data(name);\n\treturn v !== undefined;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// parse form to hash\n////////////////////////////////////////////////////////////////////////////////\n$.fn.parseFormHash = function(cancel) {\n\treturn this._parseForm(false, cancel);\n}\n$.fn.parseFormFD = function(cancel) {\n\treturn this._parseForm(true,  cancel);\n}\n$.fn._parseForm = function(fdmode, cancel) {\n\tconst data = fdmode ? new FormData : {};\n\tconst $cancel = (cancel instanceof $) ? cancel\n\t\t: (cancel === undefined ? cancel : $(cancel));\n\n\tthis.find('input, select, textarea').each(function(idx, dom){\n\t\tif (dom.disabled) return;\n\t\tif (dom.type == 'checkbox' && !dom.checked) return;\n\t\tif ($cancel && $cancel.find(dom).length) return;\n\n\t\tconst name = dom.name;\n\n\t\t// file\n\t\tif (dom.tagName == 'INPUT' && dom.type == 'file') {\n\t\t\tif (!fdmode) return;\n\t\t\tconst files = dom.files;\n\t\t\tfor(let i=0; i<files.length; i++)\n\t\t\t\tdata.append(name, files[i]);\n\t\t\treturn;\n\t\t}\n\t\tif (name == undefined || name == '') return;\n\t\tif (fdmode)\n\t\t\tdata.append(name, $(dom).val());\n\t\telse\n\t\t\tdata[name] = $(dom).val();\n\t});\n\treturn data;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// any serialize\n////////////////////////////////////////////////////////////////////////////////\n$.fn.anySerialize = function(){\n\treturn this.find('input, textarea, select').serialize();\n}\n$.fn.anySerializeArray = function(){\n\treturn this.find('input, textarea, select').serializeArray();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Function calls sequentially when an event occurs\n////////////////////////////////////////////////////////////////////////////////\n$.fn.onSequence = function(_event, _priority, _func) {\n\tconst name = '_on_' + _event.replace(/[^\\w]/g, '_');\n\n\tthis.each(function(idx, dom) {\n\t\tconst self = $(dom);\n\n\t\tif (!self.data(name)) {\n\t\t\tconst list = [];\n\t\t\tself.data(name, list);\n\n\t\t\tself.on(_event, function(){\n\t\t\t\tfor(var x in list) {\n\t\t\t\t\tvar r = list[x].func.apply(this, arguments);\n\t\t\t\t\tif (!r) return false;\t// false break\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t})\n\t\t}\n\t\tconst list = self.data(name);\n\t\tlist.push({\n\t\t\tpriority:\t_priority,\n\t\t\tfunc:\t\t_func\n\t\t});\n\t\tself.data(name, list.sort(function(a,b){\n\t\t\treturn a.priority - b.priority\n\t\t}));\n\t});\n\treturn this;\n}\n\n$.fn.triggerWithOE = function(name, oe) {\n\tconst e   = jQuery.Event(name, { originalEvent: oe });\n\tconst arg = Array.from(arguments);\n\targ.unshift(e);\n\t$.fn.trigger.apply(this, arg);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Drag and Drop emulation by touch event\n////////////////////////////////////////////////////////////////////////////////\n$.fn.dndEmulation = function(opt){\n\tif (!opt) opt={};\n\n\t// make mouse event object from touch event infomation\n\tfunction make_mouse_event(name, evt, touch) {\n\t\tconst e    = $.Event(name);\n\t\te.altKey   = evt.altKey;\n\t\te.metaKey  = evt.metaKey;\n\t\te.ctrlKey  = evt.ctrlKey;\n\t\te.shiftKey = evt.shiftKey;\n\t\te.clientX  = touch.clientX;\n\t\te.clientY  = touch.clientY;\n\t\te.screenX  = touch.screenX;\n\t\te.screenY  = touch.screenY;\n\t\te.pageX    = touch.pageX;\n\t\te.pageY    = touch.pageY;\n\t\te.which    = 1;\n\t\treturn e;\n\t}\n\n\t// get all parents element including yourself.\n\tfunction get_par_elements(dom) {\n\t\tvar ary  = [];\n\t\twhile(dom) {\n\t\t\tary.push( dom );\n\t\t\tif (dom == self) break;\n\t\t\tdom = dom.parentNode;\n\t\t}\n\t\treturn ary;\n\t}\n\n\tfunction regist_dnd_emulation(dom) {\n\t\tlet prev;\n\t\tlet flag;\n\t\tlet timer;\n\t\tlet orig_touch;\n\n\t\t// mousedown\n\t\tdom.addEventListener('touchstart', function(evt) {\n\t\t\tprev = evt.target;\n\t\t\torig_touch = evt.touches[0];\n\t\t\tconst e = make_mouse_event('mousedown', evt, evt.touches[0]);\n\t\t\t$( prev ).trigger(e);\n\n\t\t\t// Disable the process if it does not pass a certain amount of time.\n\t\t\tflag  = false;\n\t\t\ttimer = setTimeout(function(){\n\t\t\t\ttimer = false;\n\t\t\t\tflag  = true;\n\t\t\t}, $$.TouchDnDTime)\n\t\t}, { passive: true });\n\n\t\t// mouseup\n\t\tdom.addEventListener('touchend', function(evt){\n\t\t\tif (timer) clearTimeout(timer);\n\t\t\ttimer = false;\n\t\t\tconst e = make_mouse_event('mouseup', evt, evt.changedTouches[0]);\n\t\t\t$( evt.target ).trigger(e);\n\t\t});\n\n\t\t// drag\n\t\tdom.addEventListener('touchmove', function(evt) {\n\t\t\t// move wait\n\t\t\tif (!flag) {\n\t\t\t\tif (timer) clearTimeout(timer);\n\t\t\t\ttimer = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst touch = evt.changedTouches[0];\n\t\t\tconst dom   = document.elementFromPoint(touch.clientX, touch.clientY);\n\t\t\tconst enter = get_par_elements(dom);\n\n\t\t\tconst e = make_mouse_event('mousemove', evt, touch);\n\t\t\t$(enter).trigger(e);\n\n\t\t\tif (evt.cancelable) evt.preventDefault();\n\t\t\tif (!opt.leave || dom == prev) return;\n\n\t\t\t////////////////////////////////////////////////////////\n\t\t\t// leave and enter event emulation\n\t\t\t////////////////////////////////////////////////////////\n\t\t\tconst leave = get_par_elements(prev);\n\n\t\t\t// Remove common elements\n\t\t\twhile(leave.length && enter.length\n\t\t\t   && leave[leave.length -1] == enter[enter.length -1]) {\n\t\t\t\tleave.pop();\n\t\t\t\tenter.pop();\n\t\t\t}\n\n\t\t\tconst e_leave = make_mouse_event('mouseleave', evt, touch);\n\t\t\tconst e_out   = make_mouse_event('mouseout',   evt, touch);\n\t\t\tconst e_enter = make_mouse_event('mouseenter', evt, touch);\n\t\t\tconst e_over  = make_mouse_event('mouseover',  evt, touch);\n\t\t\t$(leave).trigger( e_leave );\n\t\t\t$(prev) .trigger( e_out   );\n\t\t\t$(enter).trigger( e_enter );\n\t\t\t$(dom)  .trigger( e_over  );\n\n\t\t\t// save current dom\n\t\t\tprev=dom;\n\t\t}, {passive: false});\n\t}\n\n\tthis.each( function(idx, dom){\n\t\tregist_dnd_emulation(dom)\n\t});\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// \"dbltap\" event exclusive mouse\n////////////////////////////////////////////////////////////////////////////////\n// Double touch event order: touchstart, click, touchstart, click\n// Mouse double click order: click, click, dblclick\n$.event.special.mydbltap = {\n\tsetup: function(){\n\t\tlet flag;\n\t\tlet mouse;\n\t\tthis.addEventListener('click', function(evt) {\n\t\t\tif (flag) {\n\t\t\t\tflag = false;\n\t\t\t\tif (mouse) return;\n\t\t\t\treturn $(evt.target).trigger('mydbltap');\n\t\t\t}\n\t\t\tflag  = true;\n\t\t\tmouse = true;\n\t\t\tsetTimeout( function(){ flag = false; }, $$.DoubleTapTime);\n\t\t}, { passive: true });\n\n\t\tthis.addEventListener('touchstart', function(){\n\t\t\tmouse = false;\n\t\t}, { passive: true });\n\t}\n}\n","export //##############################################################################\n// Prefix Storage\n//\t\t\t\t\t\t\t(C)2019-2025 nabe@abk\n//##############################################################################\n//\n//impliment methods: set(), get(), remove(), clear()\n//\n/* Add \"export\" by Makefile */\nclass PrefixStorage {\n\tconstructor(path) {\n\t\tthis.ls     = localStorage;\n\t\tthis.prefix = String(path) + '::';\n\t}\n\n\tset(key, val) {\n\t\tthis.ls[this.prefix + key] = val;\n\t}\n\tget(key) {\n\t\treturn this.ls[this.prefix + key];\n\t}\n\tgetInt(key) {\n\t\tconst x = parseInt(this.ls[this.prefix + key]);\n\t\treturn isNaN(x) ? 0 : x;\n\t}\n\tdefined(key) {\n\t\treturn (this.ls[this.prefix + key] !== undefined);\n\t}\n\tremove(key) {\n\t\tthis.ls.removeItem(this.prefix + key);\n\t}\n\tclear = function() {\n\t\tconst ls  = this.ls;\n\t\tconst pf  = this.prefix;\n\t\tconst len = pf.length;\n\n\t\tconst ary = [];\n\t\tfor(let i=0; i<ls.length; i++) {\n\t\t\tconst k = ls.key(i);\n\t\t\tif (k.substr(0,len) === pf) ary.push(k);\n\t\t}\n\t\t// Do not delete in upper loop\n\t\tfor(var k in ary) {\n\t\t\tdelete ls[ary[k]];\n\t\t}\n\t}\n}\n","//##############################################################################\n// adiary UI\n//\t\t\t\t\t\t\t(C)2019-2025 nabe@abk\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// dialog\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryDialog = function(opt = {}) {\n\tconst self = this;\n\tif ( opt === 'open' )\treturn this.adiaryDialogOpen();\n\tif ( opt === 'close' )\treturn this.adiaryDialogClose();\n\n\t////////////////////////////////////////////////////////////////////////\n\t// init dialog\n\t////////////////////////////////////////////////////////////////////////\n\tconst $win = $(window);\n\tconst $dialog = $('<dialog>').addClass('ui-dialog').attr('tabindex', -1);\n\tconst min_w = opt.minWidth  || 200;\n\tconst min_h = opt.minHeight || 150;\n\tlet   width = opt.width     || 300;\n\tif (width<0) width='auto';\n\t$dialog.css({\n\t\twidth:\t\twidth,\n\t\tminWidth:\tmin_w,\n\t\tminHeight:\tmin_h\n\t});\n\tif (opt.maxWidth)    $dialog.css('max-width',  opt.maxWidth );\n\tif (opt.maxHeight)   $dialog.css('max-height', opt.maxHeight);\n\tif (opt.dialogClass) $dialog.addClass( opt.dialogClass );\n\n\tconst data = this.adiaryUIData('dialog', { ...opt });\n\t// data.open        = opt.open;\n\t// data.close       = opt.close;\n\t// data.beforeClose = opt.beforeClose;\n\t// data.modal       = opt.modal;\n\tdata.$dialog = $dialog;\n\tdata.min_h   = min_h;\n\n\t////////////////////////////////////////////////////////////////////////\n\t// header\n\t////////////////////////////////////////////////////////////////////////\n\tconst $title = $('<div>').addClass('ui-dialog-titlebar ui-widget-header');\n\tconst $span  = $('<span>').addClass('ui-dialog-title')\n\t\t.html( opt.title || this.attr('title') || '&ensp;' );\n\t$title.append( $span );\n\t$dialog.append( $title );\n\n\t// close button\n\tif (opt.noExit) {\n\t\t$dialog.on('cancel', function(evt){ return false; });\n\t} else {\n\t\tconst $close = $('<button>').addClass('ui-button').attr({\n\t\t\t\ttype: 'button',\n\t\t\t\ttitle: 'Close'\n\t\t\t});\n\t\t$close.append( $('<span>').addClass('ui-icon ui-icon-closethick') );\n\t\t$title.append( $close );\n\n\t\tfunction cancel(evt) {\n\t\t\tif (opt.exit) opt.exit();\n\t\t\tself.adiaryDialogClose();\n\t\t};\n\t\t$close .on('click',  cancel);\n\t\t$dialog.on('cancel', cancel);\n\n\t\tif (!opt.modal) {\n\t\t\t$dialog.on('keydown', evt => {\n\t\t\t\tif (evt.key === 'Escape') $close.click();\n\t\t\t});\n\t\t\t$dialog.on('click', evt => {\n\t\t\t\t$(this).closest('dialog').focus()\n\t\t\t});\n\t\t}\n\t}\n\tdata.$header = $title;\n\n\t////////////////////////////////////////////////////////////////////////\n\t// main\n\t////////////////////////////////////////////////////////////////////////\n\tdata.$restore = this.parent();\n\tdata.display  = this.css('display');\n\n\tthis.addClass('ui-dialog-content');\n\t$dialog.append( this );\n\tthis.show();\n\n\t////////////////////////////////////////////////////////////////////////\n\t// button\n\t////////////////////////////////////////////////////////////////////////\n\tif (opt.buttons) {\n\t\tconst $footer = $('<div>').addClass('ui-dialog-buttonpane');\n\t\tconst $btnset = $('<div>').addClass('ui-dialog-buttonset');\n\t\tconst btns = opt.buttons;\n\t\tconst $btns = [];\n\t\tfor(let i in btns) {\n\t\t\tlet $btn = $('<button>')\n\t\t\t\t\t.addClass('ui-button')\n\t\t\t\t\t.attr('type', 'button')\n\t\t\t\t\t.text( i );\n\t\t\t$btn.on('click', btns[i]);\n\t\t\t$btnset.append($btn);\n\t\t\t$btns.push($btn);\n\t\t}\n\t\t$footer.append( $btnset );\n\t\t$dialog.append( $footer );\n\t\tdata.$footer = $footer;\n\t}\n\n\t////////////////////////////////////////////////////////////////////////\n\t// end\n\t////////////////////////////////////////////////////////////////////////\n\tif (opt && !opt.autoOpen && 'autoOpen' in opt) return this;\n\n\treturn this.adiaryDialogOpen();\n}\n\n$.fn.adiaryDialogOpen = function() {\n\tconst data    = this.adiaryUIData('dialog');\n\tconst $dialog = data.$dialog;\n\tif (!$dialog) throw(\"Do not open dialog!\");\n\n\t$('body').append($dialog);\n\tif (data.modal) {\n\t\t$dialog.attr('closedby', 'none');\n\t\t$dialog[0].showModal();\n\t} else {\n\t\t$dialog[0].show();\n\t}\n\t$dialog.focus();\n\n\t// set css\n\tconst $win = $(window);\n\tconst hf   = data.$header.outerHeight() + (data.$footer ? data.$footer.outerHeight() : 0);\n\tthis.css('min-height', (data.min_h    - hf) + 'px');\n\tthis.css('max-height', ($win.height() - hf) + 'px');\n\n\tconst x = $win.scrollLeft() + ($win.width()  - $dialog.outerWidth() )/2;\n\tconst y = $win.scrollTop()  + ($win.height() - $dialog.outerHeight())/2;\n\t$dialog.css({\n\t\tleft:\tx,\n\t\ttop:\ty\n\t});\n\t$dialog.adiaryDraggable({\n\t\thandle: '.ui-dialog-titlebar'\n\t});\n\n\tif (data.open) data.open( null, this );\n\n\treturn this;\n}\n\n$.fn.adiaryDialogClose = function() {\n\tconst data    = this.adiaryUIData('dialog');\n\tconst $dialog = data.$dialog;\n\tif (!$dialog) throw(\"Do not close dialog!\");\n\n\tif (data.beforeClose) data.beforeClose.call( null, this );\n\n\t$dialog[0].close();\n\t$dialog.detach();\n\tdata.$dialog =null;\n\n\tif (data.$restore && data.$restore.length) {\n\t\tthis.css('display', data.display);\n\t\tdata.$restore.append( this );\n\t}\n\n\tif (data.close) data.close.call( null, this );\n\n\treturn this;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Overlay function\n////////////////////////////////////////////////////////////////////////////////\n$.adiaryShowOverlay = function() {\n\tconst $overlay = $('<dialog>').addClass('ui-overlay')\n\t\t.attr('closedby', 'none')\n\t\t.attr('tabindex', -1)\n\t\t.on('cancel', function(evt){ return false; });\n\t$('body').append($overlay);\n\t$overlay[0].showModal();\n\t$overlay.close = function(){\n\t\tthis[0].close();\n\t\tthis.detach();\n\t\treturn this;\n\t}\n\treturn $overlay;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Progressbar\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryProgressbar = function(opt) {\n\tconst data = this.adiaryUIData('progress');\n\tif (opt === 'value') return data.value;\n\n\tif (opt.change)   data.change   = opt.change;\n\tif (opt.complete) data.complete = opt.complete;\n\n\tlet init;\n\tif (!('$value' in data)) {\n\t\tthis.find('.ui-progressbar-value').remove();\n\t\t// initalize\n\t\tdata.$value = $('<div>').addClass('ui-progressbar-value');\n\t\tthis.addClass('ui-progressbar');\n\t\tthis.append( data.$value );\n\t\tinit = true;\n\t}\n\n\t// value set\n\tconst old   = data.value;\n\tconst value = opt.value;\n\tdata.value  = value;\n\tdata.$value.css('width', value + '%');\n\n\tif (init || data.change && old != value) data.change  (data.value);\n\tif (      data.complete && 100 <= value) data.complete(data.value);\n\treturn this;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// accordion\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryAccordion = function(opt) {\n\tconst $objs = this.children(\"h1,h2,h3,h4,h5,h6\");\n\t$objs.click(function(evt){\n\t\tconst $obj = $(evt.target);\n\t\tconst $div = $obj.next('div');\n\t\tif (!$div.length) return;\n\t\t$div.toggleDelay();\n\t});\n\t$objs.next('div').hide();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// draggable\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryDraggable = function(opt) {\n\tlet sx;\n\tlet sy;\n\tlet $obj;\n\tthis.addClass('aui-draggable');\n\n\tthis.on('mousedown', function(evt){\n\t\t$('iframe').css('pointer-events', 'none');\n\t\tconst $tar = $(evt.target);\n\t\t$obj = $tar.hasClass('aui-draggable') ? $tar : $tar.closest('.aui-draggable');\n\n\t\tif (opt) {\n\t\t\tconst $o = $tar;\n\t\t\tif ($tar != $obj) $o.add($tar.parentsUntil('.aui-draggable'));\n\t\t\tif (opt.cancel &&  $o.filter(opt.cancel).length) return;\n\t\t\tif (opt.handle && !$o.filter(opt.handle).length) return;\n\t\t}\n\t\tconst p = $obj.offset();\n\t\tsx = p.left - evt.pageX;\n\t\tsy = p.top  - evt.pageY;\n\t\tdocument.addEventListener('mousemove', move);\n\t\tevt.preventDefault();\n\t});\n\n\tthis.on('mouseup', function(evt){\n\t\t$('iframe').css('pointer-events', 'auto');\n\t\tdocument.removeEventListener('mousemove', move);\n\t\tevt.preventDefault();\n\t});\n\n\tfunction move(evt) {\n\t\tconst x = sx + evt.pageX;\n\t\tconst y = sy + evt.pageY;\n\t\t$obj.css({\n\t\t\tposition:\t'absolute',\n\t\t\tleft:\t\tx + 'px',\n\t\t\ttop:\t\ty + 'px'\n\t\t});\n\t\tevt.preventDefault();\n\t}\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// data function\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryUIData = function(name, val) {\n\tname = 'aui_' + name;\n\tif (arguments.length==2) return (this[name] = val);\n\treturn this[name] ||= {};\n}\n","export ////////////////////////////////////////////////////////////////////////////////\n// make main object\n////////////////////////////////////////////////////////////////////////////////\n/* Add \"export\" by Makefile */\nconst $$ = {\n\tSameSite:\t\t'Lax',\t// set_cookie() default\n\tDefaultShowSpeed:\t300,\t// msec\n\tTouchDnDTime:\t\t100,\t// msec\n\tDoubleTapTime:\t\t400,\t// msec\n\tPopupDelayTime:\t\t300,\t// msec\n\tPopupOffsetX:\t\t 15,\n\tPopupOffsetY:\t\t 10,\n\n\t$head:\t\t$('head'),\n\t$body:\t\t$('body')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// load message\n////////////////////////////////////////////////////////////////////////////////\n$$.msg = function(key, _default) {\n\tconst msgs = this.msgs || {};\n\tconst msg  = msgs[key];\n\treturn (msg === undefined) ? (_default || key.toUpperCase()) : msg;\n}\n\n$$.set_msg = function(obj, msg) {\n\tconst msgs = this.msgs ||= {};\n\n\tif (typeof(obj) != 'object') {\n\t\tmsgs[obj] = msg;\n\t\treturn;\n\t}\n\tthis.msgs = { ...msgs, ...obj };\n}\n","//##############################################################################\n// dialog functions\n//##############################################################################\n$$.dialog = function($div, opt = {}) {\n\t//--------------------------------------------------\n\t// Create Promise if not set callback().\n\t// This promise is not call reject().\n\t//--------------------------------------------------\n\tif (!opt.callback) {\n\t\tconst self=this;\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\tself.dialog($div, {\n\t\t\t\t...opt,\n\t\t\t\tcallback: resolve\n\t\t\t});\n\t\t});\n\t}\n\n\t//--------------------------------------------------\n\t// main\n\t//--------------------------------------------------\n\tconst ok = opt.ok || this.msg('ok');\n\tconst btn= {};\n\tbtn[ok] = function(){\n\t\t$div.adiaryDialog('close');\n\t\tif (opt.callback) opt.callback( $div.prop('tagName')==='FORM' ? $div.parseFormHash() : true );\n\t};\n\tif (opt.cancelBtn) {\n\t\tbtn[ opt.cancel || this.msg('cancel') ] = function(){\n\t\t\t$div.adiaryDialog('close');\n\t\t\tif (opt.callback) opt.callback(false);\n\t\t};\n\t}\n\n\t// stop submit by enter and push ok button\n\tconst keyfunc = function(evt) {\n\t\tif (evt.which !== 13) return true;\n\t\tbtn[ok]();\n\t\treturn false;\n\t}\n\t$div.on('keypress', 'input', keyfunc);\n\n\t$div.adiaryDialog({\n\t\tnoExit: opt.noExit,\n\t\tmodal: 'modal' in opt ? opt.modal : true,\n\t\ttitle: opt.title,\n\t\tdialogClass: opt.class,\n\t\tbuttons: btn,\n\t\topen: function(){\n\t\t\tconst $bp = $div.siblings('.ui-dialog-buttonpane');\n\t\t\tif (opt.focus === 'ok')     $bp.find('button:eq(0)').focus();\n\t\t\tif (opt.focus === 'cancel') $bp.find('button:eq(1)').focus();\n\t\t},\n\t\texit: function(){\n\t\t\tif (opt.callback) opt.callback(false);\n\t\t},\n\t\tbeforeClose: function(){\n\t\t\t$div.off('keypress', 'input', keyfunc);\n\t\t},\n\t\tminWidth:  opt.minWidth  || $div.data('min-width'),\n\t\tminHeight: opt.minHeight || $div.data('min-height'),\n\t\twidth:     opt.width     || $div.data('width')\n\t});\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// base dialog\n////////////////////////////////////////////////////////////////////////////////\n$$.dialog_base = function(opt, msg, marg, callback) {\n\tif (!callback && typeof(marg) === 'function') {\n\t\tcallback = marg; marg = null;\n\t}\n\n\tlet $div;\n\tif (msg instanceof $) {\n\t\t$div = msg;\n\n\t} else {\n\t\tif (msg instanceof Object) {\n\t\t\topt = {...opt, ...msg};\n\t\t\tmsg = msg.html;\n\t\t}\n\n\t\tif (msg && msg.substr(0,1)==='#') {\n\t\t\t$div = $.secure(msg);\n\n\t\t} else {\n\t\t\t$div = $('<div>');\n\t\t\tif (marg) {\n\t\t\t\tmsg = msg.replace(/%([A-Za-z])/g, function(w,m1){ return marg[m1] });\n\t\t\t\tmsg = msg.replace(/%[A-Za-z]/g, '');\n\t\t\t}\n\t\t\t$div.html( msg );\n\t\t}\n\t}\n\topt.title ||= $div && $div.data('title') || this.msg('confirm');\n\n\tif (callback) opt.callback=callback;\n\n\treturn this.dialog($div, opt);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// dialogs\n////////////////////////////////////////////////////////////////////////////////\n$$.show_dialog = function(msg, marg, callback, opt = {}) {\n\treturn this.dialog_base(opt, msg, marg, callback);\n}\n\n$$.show_error = function(msg, marg, callback, opt) {\n\treturn this.dialog_base({\n\t\t\tclass:\t'error-dialog',\n\t\t\ttitle:\tthis.msg('error'),\n\t\t\t...opt\n\t\t},\n\t\tmsg, marg, callback);\n}\n\n$$.confirm = function(msg, marg, callback, opt) {\n\t\treturn this.dialog_base({\n\t\t\tcancelBtn:\ttrue,\n\t\t\ttitle:\t\tthis.msg('confirm'),\n\t\t\t...opt\n\t\t},\n\t\tmsg, marg, callback);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// form dialog\n////////////////////////////////////////////////////////////////////////////////\n$$.form_dialog = function(title, ele, callback) {\n\n\tlet $form;\n\n\tif (ele instanceof $) {\n\t\t$form = ele;\n\n\t} else {\n\t\t$form = $('<form>');\n\t\tif (!Array.isArray(ele)) ele = [ ele ];\n\n\t\tfor(const x of ele) {\n\t\t\tif (typeof(x) === 'string') {\n\t\t\t\t$form.append( $('<div>').html(x) );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (x.type == 'p') {\n\t\t\t\t$form.append( $('<p>').html( x.html ) );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (x.type == 'textarea') {\n\t\t\t\tconst $ta = $('<textarea>').attr({\n\t\t\t\t\trows: x.rows || 5,\n\t\t\t\t\tname: x.name\n\t\t\t\t}).addClass('w100p');\n\t\t\t\tif (x.val != '') $ta.text( x.val );\n\t\t\t\t$form.append( $ta );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (x.type == '*') {\n\t\t\t\t$form.append( x.html );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// else\n\t\t\tconst $item = $('<div>');\n\t\t\tif ('before' in x) $item.append(x.before);\n\n\t\t\t$item.append($('<input>').attr({\n\t\t\t\t\ttype: x.type || 'text',\n\t\t\t\t\tname: x.name,\n\t\t\t\t\tvalue: x.value\n\t\t\t\t}).addClass( x.class || 'w80p')\n\t\t\t);\n\t\t\tif (x.iclass) $item.addClass(x.iclass);\n\n\t\t\tif ('after' in x) $item.append(x.after);\n\t\t\t$form.append( $item );\n\t\t}\n\t}\n\n\treturn this.dialog($form, {\n\t\ttitle: title,\n\t\tcallback: callback\n\t});\n}\n","//##############################################################################\n// Ajax\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// send_ajax\n////////////////////////////////////////////////////////////////////////////////\n$$.send_ajax = function(opt) {\n\tconst self=this;\n\t//--------------------------------------------------\n\t// Create Promise if not set callback functions.\n\t//--------------------------------------------------\n\tif (!opt.success && !opt.error_dialog_callback) {\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\tself.send_ajax({\n\t\t\t\t...opt,\n\t\t\t\tsuccess: resolve,\n\t\t\t\terror_dialog_callback: reject\n\t\t\t});\n\t\t});\n\t}\n\n\t//--------------------------------------------------\n\t// main\n\t//--------------------------------------------------\n\tfunction ajax_error(h) {\n\t\tif (opt.error && !opt.error(h)) return;\n\n\t\tlet msg = '';\n\t\tif (h) {\n\t\t\tif (h.msg) msg += '<p>' + self.tag_esc(h.msg.toString()) + '</p>';\n\t\t\tif (h.errs) {\n\t\t\t\tconst ary = [];\n\t\t\t\tconst e = h.errs;\n\t\t\t\tconst o = e._order || Object.keys(e);\n\t\t\t\tfor(let i in o) {\n\t\t\t\t\tif (e[o[i]]=='') continue;\n\t\t\t\t\tary.push( self.tag_esc(e[o[i]]) );\n\t\t\t\t}\n\t\t\t\tmsg += '<p class=\"ni\">' + ary.join(\"<br>\") + '</p>';\n\t\t\t}\n\t\t\tif (h._debug) msg += '<p class=\"ni\">' + h._debug.replace(/\\n/g, '<br>') + '</p>';\n\t\t} else {\n\t\t\tmsg = '<p>' + self.msg('server_response_error', 'response data error!') + '</p>';\n\t\t}\n\t\tself.show_error(msg, function(){\n\t\t\tif (opt.error_dialog_callback) opt.error_dialog_callback(h)\n\t\t});\n\t}\n\tconst data = opt.data;\n\treturn $.ajax(opt.url || self.myself || './', {\n\t\tmethod:\t\t'POST',\n\t\tdata:\t\tdata.toString() === '[object Object]' ? $.param(data) : data,\n\t\tprocessData:\tfalse,\n\t\tcontentType:\tfalse,\n\t\tdataType:\t'json',\n\t\terror:\t\t() => ajax_error(),\n\t\tsuccess:\tfunction(h) {\n\t\t\tif (h.ret != '0' || h._debug) return ajax_error(h);\n\t\t\tif (opt.success) opt.success(h);\n\t\t},\n\t\tcomplete:\topt.complete,\n\t});\n};\n","////////////////////////////////////////////////////////////////////////////////\n// popup for mouseenter\n////////////////////////////////////////////////////////////////////////////////\n$$.popup = function(evt) {\n\tconst self  = this;\n\tconst $obj  = $(evt.target);\n\tlet   delay = $obj.data('delay') || this.PopupDelayTime;\n\tif (delay<1) delay=1;\n\n\tif (!evt.data.$div) {\n\t\tconst $popup = $('<div>').addClass('popup-block');\n\t\tthis.$body.append( $popup );\n\t \tevt.data.$div = $popup;\n\t}\n\n\t$obj.on('mouseleave', evt.data, function(evt){ self.popup_hide(evt) });\n\t$obj.data('timer', setTimeout(  function()   { self.popup_show(evt) }, delay));\n}\n\n$$.popup_show = function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $div = evt.data.$div;\n\tif ($div.is(\":animated\")) return;\n\n\tif (evt.data.show) evt.data.show(evt, $obj, $div);\n\t$div.css(\"left\", (this.SP ? 0 : (evt.pageX + this.PopupOffsetX)));\n\t$div.css(\"top\" ,                 evt.pageY + this.PopupOffsetY);\n\t$div.showDelay();\n}\n\n$$.popup_hide = function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $div = evt.data.$div;\n\tif ($obj.data('timer')) {\n\t\tclearTimeout( $obj.data('timer') );\n\t\t$obj.data('timer', null);\n\t}\n\t$obj.off('mouseout');\n\t$div.hide();\n\tif (evt.data.hide) evt.data.hide(evt, $obj, $div);\n}\n\n","//##############################################################################\n// dom extentions\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// css-defer load\n////////////////////////////////////////////////////////////////////////////////\n$('link.css-defer').attr('rel', 'stylesheet');\n\n////////////////////////////////////////////////////////////////////////////////\n// popup-help\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('mouseover', '.help[data-help]', {\n\tshow: function(evt, $obj, $div){\n\t\tconst text = $$.tag_esc_br( $obj.data(\"help\") );\n\t\t$div.addClass('popup popup-help');\n\t\t$div.html( text );\n\t}\n}, function(evt){ $$.popup(evt) });\n\n////////////////////////////////////////////////////////////////////////////////\n// button for link\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'button[data-href]', function(evt){\n\tlocation.href = $(evt.target).data('href');\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// button for value set to form element\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'button.js-set-value[data-target]', function(evt){\n\tconst $btn = $(evt.target);\n\t$.secure($btn.data('target')).val( $btn.attr('value') );\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// do not submit by enter key\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('keypress', 'input.no-enter-submit, form.no-enter-submit input', function(evt){\n\tif (evt.which === 13) return false;\n\treturn true;\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// file upload button\n////////////////////////////////////////////////////////////////////////////////\n// <button class=\"js-file-btn\" data-target=\"#fileup\">\n// <input type=\"file\" id=\"fileup\" style=\"display:none\" data-target=\"#file-list\">\n// <span id=\"file-list\"></span>\n//\n$$.$body.on('click', 'button.js-file-btn', function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $tar = $.secure($obj.data('target'));\n\tif (! $tar.length ) return;\n\n\tif ($tar.data('target') && !$tar.data('--regist-change-evt')) {\n\t\t$tar.data('--regist-change-evt', true);\n\t\t$tar.on('change', function(evt){\n\t\t\tconst $span = $tar.rootfind( $tar.data('target') );\n\t\t\tconst file  = $tar.val().replace(/^.*?([^\\\\\\/]*)$/, \"$1\");\n\t\t\t$span.text( file );\n\t\t})\n\t}\n\n\t$tar.click();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// file reset button\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'button.js-reset-btn', function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $tar = $.secure($obj.data('target'));\n\tif (!$tar.length || $tar.val()=='') return;\n\t$tar.val('').change();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// check all\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('change', 'input.js-checked', function(evt){\n\tconst $obj = $(evt.target);\n\tconst $tar = $.secure($obj.data('target'));\n\t$tar.prop(\"checked\", $obj.is(\":checked\"));\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// submit on change\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('change', '.js-on-change-submit', function(evt){\n\tconst $obj = $(evt.target);\n\t$obj.closest('form').trigger('submit');\n});\n// reset for browser-back\n$(window).on('pageshow', evt => {\n\tconst ent = performance.getEntriesByType(\"navigation\")[0];\n\tif (ent.type == 'back_foward' || evt.originalEvent.persisted) {\n\t\t$$.$body.find('form:has(.js-on-change-submit)').each((idx,dom) => dom.reset());\n\t}\n})\n\n////////////////////////////////////////////////////////////////////////////////\n// line click for check on table\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'tbody.js-line-checked', function(evt){\n\tconst $obj = $(evt.target);\n\tconst $pars= $obj.parents('tr');\n\tif ($pars.add($obj).filter('a,input,button,label,.line-checked-cancel').length) return;\n\n\tconst $tr  = $pars.last();\n\tconst $inp = $tr.find('input[type=\"checkbox\"],input[type=\"radio\"]');\n\t$inp.first().click();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// combo box\n////////////////////////////////////////////////////////////////////////////////\n$$.js_combo_dummy = \"\\e\\e\\e\\e\\e\\n\\n\";\n\n$$.$body.on('focus', 'select.js-combo', function(evt){\n\tconst $obj = $(evt.target);\n\t$obj.data('current', $obj.val() );\n\n\tconst dummy = $$.js_combo_dummy;\n\n\tif ($obj.find('option[value=\"' + dummy + '\"]').length) return;\n\t// add other option\n\tconst $opt = $('<option>').attr('value', dummy).text( $$.msg('other') );\n\t$obj.append( $opt );\n\t$obj.on('change', async function(evt) {\n\t\tconst $select = $(evt.target);\n\t\tconst _val    = $select.val();\n\t\tif (_val !== dummy)\n\t\t\treturn $select.data('current', _val);\n\t\t\n\t\tconst val = $select.data('current');\n\t\t$select.val( val );\n\n\t\tconst element = { name: 'data', value: val, class: $select.data('class') };\n\t\tconst format  = $select.data('format') || '';\n\t\tconst ma = format.match(/^(.*)%v(.*)$/);\n\t\tif (ma) {\n\t\t\telement.before = ma[1];\n\t\t\telement.after  = ma[2];\n\t\t}\n\n\t\tconst h = await $$.form_dialog($select.data('title'), element);\n\t\tif (h) {\n\t\t\tconst val = h.data;\n\t\t\tif (val == '' || $select.val() == val) return;\n\n\t\t\t// set value\n\t\t\t$$.set_value_on_select($select, val);\n\t\t}\n\t});\n});\n\n// call by select.js-save\n$$.set_value_on_select = function($select, val) {\n\t$select.val( val );\n\tif ($select.val() != val) {\n\t\tconst format = $select.data('format') || '%v';\n\t\tconst text = format.replace(/%v/g, val);\n\t\tconst $opt = $('<option>').attr('value', val).text( text );\n\t\t$select.append( $opt );\n\t\t$select.val( val );\n\t}\n\t$select.data('current', val);\n\t$select.change();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// sortable table\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'table.js-sortable-value thead', function(evt){\n\tconst $o1  = $(evt.target).filter('th,td');\n\tconst $obj = $o1.length ? $o1 : $(evt.target).closest('th,td');\n\tif ($obj.hasClass('disable-sort')) return;\n\n\tlet cnt=0;\n\tlet $x = $obj;\n\twhile($x.length) {\n\t\t$x = $x.prev();\n\t\tcnt++;\n\t}\n\n\tconst $tbody  = $obj.closest('table').children('tbody');\n\tconst td_nth  = 'td:nth-child(' + cnt + ')';\n\tconst reverse = $tbody.data('_sortable_prev_cnt') == cnt;\n\t$tbody.data('_sortable_prev_cnt', reverse ? -1 : cnt);\n\n\t$tbody.each(function(idx,dom){\n\t\tconst $tbody = $(dom);\n\t\tlet   isNum  = true;\n\t\tconst lines  = [];\n\t\t$tbody.children('tr').each(function(i2,tr){\n\t\t\tconst $tr = $(tr);\n\t\t\tconst $td = $tr.children(td_nth);\n\t\t\tconst val = $td.existsData('sort') ? $td.data('sort') : $td.text().replace(/^\\s+/, '').replace(/\\s+$/, '');\n\t\t\tconst num = Number(val);\n\t\t\tif (isNaN(num)) isNum = false;\n\n\t\t\tlines.push({\n\t\t\t\tval:\tval,\n\t\t\t\tnum:\tnum,\n\t\t\t\t$tr:\t$tr\n\t\t\t});\n\t\t});\n\n\t\tif (isNum) lines.sort(function(a,b){ return a.num - b.num; });\n\t\t      else lines.sort(function(a,b){ return a.val===b.val ? 0 : a.val < b.val; });\n\t\tif (reverse) lines.reverse();\n\n\t\t$tbody.empty();\n\t\tfor(let i in lines) $tbody.append(lines[i].$tr);\n\t});\n});\n","//##############################################################################\n// dom special extentions\n//##############################################################################\n(function(){\n\tconst ary = [];\n\tlet   initialized;\n\n\t$$.dom_init = function(func, priority) {\n\t\tif (typeof(func) == 'function') {\n\t\t\tif (initialized) {\n\t\t\t\tif (priority) console.warn('dom_init() initialized, but priority set', priority);\n\t\t\t\tfunc.call(this, this.$body);\n\t\t\t}\n\t\t\treturn ary.push({\n\t\t\t\tfunc:\tfunc,\n\t\t\t\tp:\tpriority || 100\n\t\t\t});\n\t\t}\n\n\t\t// initlize functions\n\t\tary.sort(function(a,b) {\n\t\t\treturn a.p - b.p;\n\t\t});\n\n\t\tconst $obj = func ? func : this.$body;\n\t\tfor(var i=0; i<ary.length; i++)\n\t\t\tary[i].func.call(this, $obj);\n\n\t\tinitialized = true;\n\t};\n})();\n\n////////////////////////////////////////////////////////////////////////////////\n// submit checker\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R){\n\tconst self=this;\n\n\t$R.findx('button.js-check-form').on('click', function(evt){\n\t\tconst $obj  = $(evt.target);\n\t\tconst $form = $obj.parents('form.js-check-form');\n\t\tif (!$form.length) return;\n\t\t$form.data('confirm', $obj.data('confirm') );\n\t\t$form.data('focus',   $obj.data('focus')   );\n\t\t$form.data('button',  $obj);\n\t});\n\n\t$R.findx('form.js-check-form').onSequence('submit', 10, function(evt){\n\t\tconst $form  = $(evt.target);\n\t\tconst target = $form.data('target');\n\t\tlet count=0;\n\t\tif (target) {\n\t\t\tcount = $form.rootfind( target + \":checked\" ).length;\n\t\t\tif (!count) return false;\t// no check\n\t\t}\n\n\t\t// confirm message\n\t\tlet confirm = $form.data('confirm');\n\t\tif (!confirm) return true;\n  \t\tif ($form.data('--js-check-form-ok')) {\n  \t\t\t$form.data('--js-check-form-ok', false);\n  \t\t\treturn true;\n  \t\t}\n\n\t\t// confirm dialog\n\t\tself.dialog_base({\n\t\t\ttitle:\t\tself.msg('confirm'),\n\t\t\tfocus:\t\t$form.data('focus'),\n\t\t\tcancelBtn:\ttrue\n\t\t}, confirm, { c: count }\n\t\t, function(flag) {\n\t\t\tif (!flag) return;\n  \t\t\t$form.data('--js-check-form-ok', true);\n\t\t\tif ($form.data('button')) return $form.data('button').click();\n\n\t\t\t$form.triggerWithOE(evt.originalEvent);\n\t\t});\n\t\treturn false;\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// ajax form\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R) {\n\tconst self=this;\n\tconst submit_func = function(evt, $form){\n\t\t$form.find('.error').removeClass('error');\n\n\t\t// form data\n\t\tconst gen  = $form.data('generator');\n\t\tlet   data = gen ? gen($form, evt) : new FormData($form[0]);\n\n\t\t// submitter button\n\t\tconst sb = evt.originalEvent && evt.originalEvent.submitter;\n\t\tif (sb && sb.tagName==='BUTTON' && sb.name!=='')\n\t\t\tdata.append(sb.name, sb.value);\n\n\t\t// submit url-encode\n\t\tif (!gen && !$form.find('input[type=\"file\"]').length)\n\t\t\tdata = new URLSearchParams(data);\n\n\t\t// stop re-entry\n\t\tif (!$form.data('reentry')) {\n\t\t\tif ($form.data('--js-ajax-stop')) return;\n\t\t\t$form.data('--js-ajax-stop', true);\n\t\t\t$form.prop('disabled', true);\n\t\t}\n\n\t\tconst $overlay   = $form.data('overlay') && $.adiaryShowOverlay();\n\t\tconst start_func = $form.data('start');\n\t\tconst comp_func  = $form.data('complete');\n\t\tif (typeof(start_func) === 'function') start_func($form);\n\n\t\tself.send_ajax({\n\t\t\turl:\t$form.attr('action'),\n\t\t\tdata:\tdata,\n\t\t\tsuccess: function(h) {\n\t\t\t\tif ($overlay) $overlay.close();\n\t\t\t\tconst success = $form.data('success');\n\t\t\t\tconst url = $form.data('url');\n\t\t\t\tif (typeof(success) === 'function') return success(h);\n\t\t\t\tif (typeof(success) === 'string' && success != '') {\n\t\t\t\t\treturn self.show_dialog(success, function(){\n\t\t\t\t\t\tif (url) location = url;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (url) location = url;\n\t\t\t},\n\t\t\terror: function(h) {\n\t\t\t\tif ($overlay) $overlay.close();\n\t\t\t\tconst error = $form.data('error');\n\t\t\t\tif (typeof(error) === 'function') return error(h);\n\n\t\t\t\tif (!h || !h.errs) return true;\n\t\t\t\tconst e = h.errs;\n\t\t\t\tfor(let k in e) {\n\t\t\t\t\tif (k == '_order') continue;\n\n\t\t\t\t\t// with number?\n\t\t\t\t\tconst ma  = k.match(/^(.*)#(\\d+)$/);\n\t\t\t\t\tconst num = ma ? ma[2] : undefined;\n\t\t\t\t\tk = ma ? ma[1] : k;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlet $x = $form.find('[name=\"' + k+ '\"], [data-name=\"' + k + '\"]');\n\t\t\t\t\t\tif (num) $x = $($x[num]);\n\t\t\t\t\t\t$x.addClass('error');\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\terror_dialog_callback: function(){\n\t\t\t\tconst callback = $form.data('error_dialog_callback');\n\t\t\t\tif (typeof(callback) === 'function') return callback();\n\t\t\t},\n\t\t\tcomplete: function(h) {\n\t\t\t\tif (typeof(comp_func) === 'function') comp_func($form);\n\t\t\t\tif ($form.data('--js-ajax-stop')) {\n\t\t\t\t\t$form.data('--js-ajax-stop', false);\n\t\t\t\t\t$form.prop('disabled', false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\t$R.find('form.js-ajax').onSequence('submit', 100, function(evt) {\n\t\tconst $form  = $(evt.target);\n\t\tconst submit = function(){ submit_func(evt, $form) };\n\n\t\tconst checker = $form.data('checker');\n\t\tif (typeof(checker) === 'function') {\n\t\t\tif (! checker($form, submit)) return false;\n\t\t}\n\t\tsubmit();\n\t\treturn false;\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// auto save form value\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R) {\n\tconst self = this;\n\n\t$R.findx('input.js-save, select.js-save').each( function(idx, dom) {\n\t\tconst $obj = $(dom);\n\t\tconst type = $obj[0].type;\n\n\t\tlet id = type != 'radio' && $obj.attr(\"id\");\n\t\tif (!id) id = 'name=' + $obj.attr(\"name\");\n\t\tif (!id) return;\n\n\t\tif (type == 'checkbox') {\n\t\t\t$obj.change( function(evt){\n\t\t\t\tconst $o = $(evt.target);\n\t\t\t\tself.Storage.set(id, $o.prop('checked') ? 1 : 0);\n\t\t\t});\n\t\t\tif ( self.Storage.defined(id) )\n\t\t\t\t$obj.prop('checked', self.Storage.get(id) != 0 );\n\t\t\treturn;\n\t\t}\n\t\tif (type == 'radio') {\n\t\t\tconst val = $obj.attr('value');\n\t\t\t$obj.change( function(evt){\n\t\t\t\tconst $o = $(evt.target);\n\t\t\t\tself.Storage.set(id, val);\n\t\t\t});\n\t\t\tif ( self.Storage.defined(id) && val == self.Storage.get(id)) {\n\t\t\t\t$obj.prop('checked', 1);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t$obj.change( function(evt){\n\t\t\tconst $o = $(evt.target);\n\t\t\tif ($o.val() == self.js_combo_dummy) return;\n\t\t\tself.Storage.set(id, $o.val());\n\t\t});\n\t\tconst val = self.Storage.get(id);\n\t\tif (! val) return;\n\t\tif (dom.tagName == 'SELECT')\n\t\t\treturn self.set_value_on_select( $obj, val );\n\t\t\n\t\treturn $obj.val( val );\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// form dom element enable/disable by other form elements\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R){\n\tconst $objs = $R.findx('input.js-enable, input.js-disable, select.js-enable, select.js-disable');\n\n\tlet   init;\n\tconst func = function(evt) {\n\t\tconst $btn = $(evt.target);\n\t\tconst $tar = $btn.rootfind( $btn.data('target') );\n\n\t\tconst type = $btn[0].type;\n\n\t\t// radio button with data-state=\"0\" or \"1\"\n\t\tif (type == 'radio') {\n\t\t\tif ($btn.prop(\"disabled\") || !$btn.prop(\"checked\")) return;\n\t\t\tlet flag = $btn.data(\"state\");\n\t\t\tif ($btn.hasClass('js-enable')) flag=!flag;\n\t\t\t$tar.prop('disabled', flag);\n\t\t\treturn;\n\t\t}\n\n\t\tlet flag;\n\t\tif (type == 'checkbox') {\n\t\t\tflag = !$btn.prop(\"disabled\") && $btn.prop(\"checked\");\n\t\t} else if (type == 'number' || $btn.data('type') == 'int') {\n\t\t\tvar val = $btn.val();\n\t\t\tflag = val.length && val > 0;\n\t\t} else {\n\t\t\tflag = ! ($btn.val() + '').match(/^\\s*$/);\n\t\t}\n\n\t\t// change flag?\n\t\tif (!init && $btn.data('_flag') === flag) return;\n\t\t$btn.data('_flag', flag);\n\n\t\t// disabled?\n\t\tconst counter = $btn.hasClass('js-disable') ? '_disable_c' :  '_enable_c';\n\t\tconst add     = flag ? 1 : (init ? 0 : -1);\n\t\t$tar.each(function(idx,dom){\n\t\t\tconst $obj = $(dom);\n\t\t\t$obj.data(counter, ($obj.data(counter) || 0) + add);\n\n\t\t\tconst diff = ($obj.data('_disable_c') || 0) - ($obj.data('_enable_c') || 0)\n\t\t\t\t   + ($btn.hasClass('js-enable') ? 0.1 : 0);\n\n\t\t\t$obj.prop('disabled', diff>0);\n\t\t});\n\t}\n\t// regist\n\t$objs.change( func );\n\tinit = true;\n\t$objs.change();\n\tinit = false;\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// click for dom show/hide\n////////////////////////////////////////////////////////////////////////////////\n/* example)\n\t<label><input type=\"checkbox\" class=\"js-switch\" data-target=\"xxx\"></label>\n\t<button type=\"button\" class=\"js-switch\"  data-target=\"xxx\"\n\t data-delay=\"300\"\n\t data-hide-val=\"show it\" data-show-val=\"hide it\" data-negative=\"1\">msg</button>\n*/\n(function(){\n\tfunction toggle($obj, init) {\n\t\tif ($obj[0].tagName == 'A') return true;\t// link click\n\n\t\t// append switch icon\n\t\tif (init && $obj[0].tagName != 'INPUT' && $obj[0].tagName != 'BUTTON') {\n\t\t\tconst $span = $('<span>');\n\t\t\t$span.addClass('ui-icon switch-icon');\n\t\t\t$obj.prepend($span).addClass('sw-show');\n\t\t}\n\n\t\tconst type = $obj[0].tagName == 'INPUT' && $obj[0].type;\n\t\tlet   tar  = $obj.data('target');\n\t\tif (!tar) {\n\t\t\t// $obj is children\n\t\t\t$obj = $obj.closest(\".js-switch\");\n\t\t\tif (!$obj.length) return;\n\t\t\ttar = $obj.data('target');\n\t\t}\n\t\tconst $target = $.secure(tar);\n\t\tif (!$target.length) return false;\n\n\t\t// save switch status\n\t\tconst storage = $obj.existsData('save') ? this.Storage : null;\n\n\t\t// get current state\n\t\tconst id = $obj.attr('id') || $obj.attr('name') || tar;\n\t\tlet flag;\n\t\tif (init && storage && storage.defined(id)) {\n\t\t\tflag = storage.getInt(id) ? true : false;\n\t\t\tif (type == 'checkbox' || type == 'radio') $obj.prop(\"checked\", flag);\n\t\t} else if (type == 'checkbox' || type == 'radio') {\n\t\t\tflag = $obj.prop(\"checked\");\n\t\t} else if (init && $obj.data('default') == 'show') {\n\t\t\tflag = true;\n\t\t} else if (init && $obj.data('default') == 'hide') {\n\t\t\tflag = false;\n\t\t} else {\n\t\t\tflag = init ? !$target.is(':hidden') : $target.is(':hidden');\n\t\t}\n\t\tif ($obj.data('negative')) flag = !flag;\n\n\t\t// show speed\n\t\tlet delay = $obj.data('delay');\n\t\tif (delay === undefined || delay === '') delay = this.DefaultShowSpeed;\n\n\t\t// fast mode\n\t\tif ($obj.data('fast')) {\n\t\t\tconst css_id = '--css--' + id.replace(/[^\\w\\-]/g, '-');\n\t\t\tlet   $css   = $('#' + css_id);\n\t\t\tif (!$css.length) {\n\t\t\t\t$css = $('<style>').attr('id', css_id);\n\t\t\t\t$('head').append($css);\n\t\t\t}\n\t\t\t$css.text( flag ? '' : tar + '{ display: none; }' );\n\t\t\treturn true;\n\t\t}\n\n\t\t// set state\n\t\tif (flag) {\n\t\t\t$obj.addClass('sw-show');\n\t\t\t$obj.removeClass('sw-hide');\n\t\t\tif (init) $target.show();\n\t\t\t     else $target.show(delay);\n\t\t\tif (storage) storage.set(id, '1');\n\t\t\n\t\t} else {\n\t\t\t$obj.addClass('sw-hide');\n\t\t\t$obj.removeClass('sw-show');\n\t\t\tif (init) $target.hide();\n\t\t\t     else $target.hide(delay);\n\t\t\tif (storage) storage.set(id, '0');\n\t\t}\n\t\tif (type == 'button') {\n\t\t\tconst val = flag ? $obj.data('show-val') : $obj.data('hide-val');\n\t\t\tif (val != undefined) $obj.val( val );\n\t\t}\n\t\treturn true;\n\t}\n\n\t$$.dom_init( function($R){\n\t\tconst self = this;\n\t\tconst func = function(evt){\n\t\t\tconst $obj = $(evt.target);\n\t\t\tif ($obj[0].type != \"radio\")\n\t\t\t\treturn toggle.call(self, $obj);\n\n\t\t\tconst name = $obj.attr('name');\n\t\t\t$('input.js-switch[name=\\\"' + name + '\"]').each(function(idx, dom){\n\t\t\t\t toggle.call(self, $(dom));\n\t\t\t});\n\t\t}\n\n\t\t$R.findx('.js-switch').each( function(idx,dom) {\n\t\t\tconst $obj = $(dom);\n\t\t\tconst f    = toggle.call(self, $obj, true);\t// init=true\n\t\t\tif (f) \t// initalize success\n\t\t\t\t$obj.on(dom.tagName == 'INPUT' ? 'change' : 'click', func);\n\t\t} );\n\t});\n})();\n\n////////////////////////////////////////////////////////////////////////////////\n// accordion\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init(function($R){\n\tconst $accordion = $R.findx('.js-accordion');\n\tif (!$accordion.length) return;\n\t$accordion.adiaryAccordion();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// custom multiple select\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R){\n\t$R.findx('select.js-multiple').each(function(idx,dom){\n\t\tconst $sel = $(dom);\n\t\tif ($sel.prop('multiple')) return;\t// if select is multiple, do nothing.\n\t\t// multiple select box is height box style.\n\t\t// $sel copy to after with multiple attribute.\n\n\t\tconst $multi = $sel.clone(true).prop('multiple', true).removeClass('js-multiple').css('display', 'none');\n\t\t$sel.data('__multi', $multi);\n\n\t\t$sel.removeAttr('id');\n\t\t$sel.removeAttr('name');\n\t\t$multi.find('option.js-multiple-ignore').remove();\n\t\t$multi.insertAfter($sel);\n\n\t\tconst $opts = $multi.find('option');\n\t\t$opts.each(function(idx,dom){\n\t\t\tconst $opt = $(dom);\n\t\t\t$opt.prop('selected', $opt.data('selected'));\n\t\t});\n\n\t\tconst __change = function(evt){\n\t\t\tconst ary = [];\n\t\t\t$opts.each(function(idx,dom){\n\t\t\t\tconst $opt = $(dom);\n\t\t\t\tif ($opt.prop('selected')) ary.push($opt.html());\n\t\t\t});\n\t\t\tif (ary.length) {\n\t\t\t\tconst $add = $('<option>').addClass('js-multple-selected').html( ary[0] + (ary[1] ? '...' : '') );\n\t\t\t\t$sel.find('.js-multple-selected').remove();\n\t\t\t\t$sel.append( $add.prop('selected', true) );\n\t\t\t}\n\t\t};\n\t\t__change();\n\t\t$multi.on('change', __change);\n\t});\n});\n\n\t$$.$body.on('mousedown keydown', 'select.js-multiple', function(evt){\n\t\tconst $_obj  = $(evt.currentTarget);\n\t\tconst $multi = $_obj.data('__multi') || $_obj;\n\n\t\tconst lclass  = $multi.data('label-class');\n\t\tconst cdialog = $multi.data('custom-dialog');\n\t\tconst $dialog = cdialog ? $(cdialog) : $('<div>').data('title', $multi.data('title'));\n\t\tconst val2opt = {};\n\n\t\t$multi.find('option').each(function(idx,dom){\n\t\t\tconst $opt = $(dom);\n\t\t\tif ($opt.hasClass('js-multiple-ignore')) return;\n\n\t\t\tconst val  = $opt.val();\n\t\t\tval2opt[val] = $opt;\n\t\t\tif (cdialog) return;\n\n\t\t\tconst $label = $('<label>').html( $opt.html() );\n\t\t\tif (lclass !=='' && lclass !== undefined) $label.addClass(lclass)\n\n\t\t\t$label.prepend(\n\t\t\t\t$('<input>').attr({\n\t\t\t\t\ttype:\t'checkbox',\n\t\t\t\t\tvalue:\tval,\n\t\t\t\t})\n\t\t\t\t.prop('checked', $opt.prop('selected'))\n\t\t\t).addClass($opt.data('label-class'));\n\t\t\t$dialog.append( $label );\n\t\t});\n\n\t\t$$.show_dialog($dialog, function(flag) {\n\t\t\tif (!flag) return;\n\n\t\t\tlet change;\n\n\t\t\t$dialog.find('input').each(function(idx,dom){\n\t\t\t\tconst $inp = $(dom);\n\t\t\t\tconst val  = $inp.val();\n\t\t\t\tconst $opt = val2opt[val];\n\t\t\t\tconst flag = $inp.prop('checked');\n\t\t\t\tif ($inp.hasClass('js-multiple-ignore') || !$opt) return;\n\n\t\t\t\tif (flag != $opt.prop('selected')) change=true;\n\t\t\t\t$opt.prop('selected', flag);\n\t\t\t});\n\t\t\tif (change) $multi.change();\n\t\t});\n\n\t\tevt.preventDefault();\n\t\treturn false;\n\t});\n","//##############################################################################\n// subroutines\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// load script\n////////////////////////////////////////////////////////////////////////////////\n(function(){\n\tconst inc = {};\n\n\t$$.load_script = function(url) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst x=inc[url];\n\t\t\tif (x) {\n\t\t\t\tif (x===1) return resolve();\n\t\t\t\t// now loading\n\t\t\t\tx.on('load', resolve);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst $s = inc[url]\n\t\t\t\t = $(document.createElement('script'))\n\t\t\t\t.attr('src',   url)\n\t\t\t\t.prop('async', true);\n\t\t\t$s.on('load', (evt) => {\n\t\t\t\tinc[url] = 1;\n\t\t\t\tresolve(evt);\n\t\t\t});\n\t\t\tthis.$head[0].appendChild( $s[0] );\n\t\t});\n\t}\n})();\n\n////////////////////////////////////////////////////////////////////////////////\n// escape html tag\n////////////////////////////////////////////////////////////////////////////////\n$$.tag_esc = function(text) {\n\treturn text\n\t\t.replace(/</g, '&lt;')\n\t\t.replace(/>/g, '&gt;')\n\t\t.replace(/\"/g, '&quot;')\n\t\t.replace(/'/g, '&apos;')\n}\n$$.tag_esc_br = function(text) {\n\treturn this.tag_esc(text).replace(/\\n|\\\\n/g,'<br>');\n}\n$$.tag_esc_amp = function(text) {\n\treturn this.tag_esc( text.replace(/&/g,'&amp;') );\n}\n$$.tag_unesc = function(text) {\n\treturn text\n\t\t.replace(/&apos;/g, \"'\")\n\t\t.replace(/&quot;/g, '\"')\n\t\t.replace(/&gt;/g, '>')\n\t\t.replace(/&lt;/g, '<')\n\t\t.replace(/&#92;/g, \"\\\\\")\t// for JSON data\n}\n$$.tag_unesc_amp = function(text) {\n\treturn this.tag_unesc(text).replace(/&amp;/g,'&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Cookie\n////////////////////////////////////////////////////////////////////////////////\n$$.set_cookie = function(name, val) {\n\tdocument.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(val) + '; SameSite=' + this.SameSite + ';';\n}\n$$.get_cookie = function(name) {\n\tconst ary = document.cookie.split(/; */);\n\tfor(const v of ary) {\n\t\tconst x = v.split('=', 2);\n\t\tconst k = decodeURIComponent( x[0] );\n\t\tif (name != k) continue;\n\t\treturn decodeURIComponent( x[1] );\n\t}\n\treturn;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// parse JSON in html comment\n////////////////////////////////////////////////////////////////////////////////\n$$.parse_json_html = function($obj) {\n\tif (!$obj.length) return;\n\tconst json = $obj.html().replace(/^\\s*<!--\\s*/, '').replace(/\\s*-->\\s*$/, '');\n\treturn JSON.parse(json);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// file size format\n////////////////////////////////////////////////////////////////////////////////\n$$.format_size = function(s) {\n\tif (s > 107374182400)\t\t// 100GB\n\t\treturn Math.round(s/1073741824).toLocaleString() + ' GB';\n\tif (s > 1047527424) return ( s/1073741824 ).toPrecision(3) + ' GB';\n\tif (s >    1022976) return ( s/1048576    ).toPrecision(3) + ' MB';\n\tif (s >        999) return ( s/1024       ).toPrecision(3) + ' KB';\n\treturn s + ' Byte';\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// to int, float\n////////////////////////////////////////////////////////////////////////////////\n$$.int = function(s) {\n\tconst x = parseInt(s);\n\treturn isNaN(x) ? 0 : x;\n}\n$$.float = function(s) {\n\tconst x = parseFloat(s);\n\treturn isNaN(x) ? 0 : x;\n}\n","//##############################################################################\n// run init for develop mode\n//##############################################################################\n(function(){\n\tconst $vars = $.secure('#asys-vars');\n\tconst vars  = $$.vars = ($vars.length==1) ? $$.parse_json_html($vars) : {};\n\n\tconst $msgs = $.secure('#asys-msgs');\n\tif ($msgs.length==1) {\n\t\tconst data = $$.parse_json_html($msgs);\n\t\t$$.set_msg(data);\n\t}\n\n\t// PrefixStorage\n\t$$.Storage = new PrefixStorage( vars.myself || '/' );\n\n\t// Export\n\tglobalThis[vars.name || 'asys']=$$;\n\n\t// dom initalize\n\t$$.dom_init();\n\n\t// priority script\n\tconst $ary = $('script[type=\"priority-script\"]');\n\tfor(const dom of $ary) {\n\t\tconst scr = document.createElement('script');\n\t\tscr.innerHTML = '\"use strict\";(function(){' + dom.innerHTML + '})()';\n\t\tdom.innerHTML = '';\n\t\tdom.appendChild(scr);\n\t}\n})();\n\n","export default $$;\n"],"mappings":"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"}